<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NextGear | Speed Converter</title>
</head>

<body>
    <div id="app-header"></div>
    <main class="main">
        <div class="header-area">
            <div class="page-info">
                <h1 data-i18n="spd_title">Speed Converter</h1>
                <p data-i18n="spd_desc">Convert between KM/H, MPH, and Knots.</p>
            </div>
        </div>
        <div class="tool-view active" style="max-width:600px; margin:0 auto">
            <div class="field">
                <label data-i18n="val">Value</label>
                <input type="number" id="inpVal" placeholder="100" oninput="convert()" value="100">
            </div>
            <div class="field">
                <label data-i18n="from">From</label>
                <select id="fromUnit" onchange="convert()">
                    <option value="kph">Km/h</option>
                    <option value="mph">Mph</option>
                    <option value="kn">Knot</option>
                    <option value="ms">m/s</option>
                </select>
            </div>
            <div class="field">
                <label data-i18n="to">To</label>
                <select id="toUnit" onchange="convert()">
                    <option value="kph">Km/h</option>
                    <option value="mph" selected>Mph</option>
                    <option value="kn">Knot</option>
                    <option value="ms">m/s</option>
                </select>
            </div>
            <div class="output-area" style="display:block">
                <div class="output-val" id="outVal">62.1371</div>
            </div>
        </div>
    </main>
    <div id="app-footer"></div>
    <script src="../../global.js"></script>
    <script>
        const rates = { 'kph': 1, 'mph': 1.60934, 'kn': 1.852, 'ms': 3.6 }; // rates to KPH ? No, let's allow direct mult.
        // Let's use Km/h as base.
        // 1 mph = 1.60934 kph
        // 1 kn = 1.852 kph
        // 1 m/s = 3.6 kph

        const pageDict = {
            'ar': { 'spd_title': 'محول السرعة', 'spd_desc': 'تحويل بين كم/س والميل/س', 'val': 'السرعة', 'from': 'من', 'to': 'إلى' },
            'en': { 'spd_title': 'Speed Converter', 'spd_desc': 'Convert Speed Units', 'val': 'Speed', 'from': 'From', 'to': 'To' }
        };

        window.addEventListener('DOMContentLoaded', () => {
            const lang = window.NextGear.lang || 'en';
            const dict = pageDict[lang] || pageDict['en'];
            document.querySelectorAll('[data-i18n]').forEach(el => el.innerText = dict[el.getAttribute('data-i18n')] || el.innerText);
            convert();
        });

        function convert() {
            const val = parseFloat(document.getElementById('inpVal').value) || 0;
            const from = document.getElementById('fromUnit').value;
            const to = document.getElementById('toUnit').value;

            // To Km/h
            let inKph = 0;
            if (from === 'kph') inKph = val;
            else if (from === 'mph') inKph = val * 1.60934;
            else if (from === 'kn') inKph = val * 1.852;
            else if (from === 'ms') inKph = val * 3.6;

            // From Km/h
            let result = 0;
            if (to === 'kph') result = inKph;
            else if (to === 'mph') result = inKph / 1.60934;
            else if (to === 'kn') result = inKph / 1.852;
            else if (to === 'ms') result = inKph / 3.6;

            document.getElementById('outVal').innerText = Number.isInteger(result) ? result : result.toLocaleString(undefined, { maximumFractionDigits: 2 });
        }
    </script>
</body>

</html>