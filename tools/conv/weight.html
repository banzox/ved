<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NextGear | Weight Converter</title>
</head>

<body>
    <div id="app-header"></div>
    <main class="main">
        <div class="header-area">
            <div class="page-info">
                <h1 data-i18n="wgt_title">Weight Converter</h1>
                <p data-i18n="wgt_desc">Convert between KG, Gram, Pound, and Ounce.</p>
            </div>
        </div>
        <div class="tool-view active" style="max-width:600px; margin:0 auto">
            <div class="field">
                <label data-i18n="val">Value</label>
                <input type="number" id="inpVal" placeholder="1" oninput="convert()" value="1">
            </div>
            <div class="field">
                <label data-i18n="from">From</label>
                <select id="fromUnit" onchange="convert()">
                    <option value="kg">Kilogram (kg)</option>
                    <option value="g">Gram (g)</option>
                    <option value="lb">Pound (lb)</option>
                    <option value="oz">Ounce (oz)</option>
                </select>
            </div>
            <div class="field">
                <label data-i18n="to">To</label>
                <select id="toUnit" onchange="convert()">
                    <option value="kg">Kilogram (kg)</option>
                    <option value="g">Gram (g)</option>
                    <option value="lb" selected>Pound (lb)</option>
                    <option value="oz">Ounce (oz)</option>
                </select>
            </div>
            <div class="output-area" style="display:block">
                <div class="output-val" id="outVal">2.20462</div>
            </div>
        </div>
    </main>
    <div id="app-footer"></div>
    <script src="../../global.js"></script>
    <script>
        const rates = { 'kg': 1, 'g': 0.001, 'lb': 0.453592, 'oz': 0.0283495 };

        const pageDict = {
            'ar': { 'wgt_title': 'محول الوزن', 'wgt_desc': 'تحويل بين الكيلو، الجرام، الباوند', 'val': 'القيمة', 'from': 'من', 'to': 'إلى' },
            'en': { 'wgt_title': 'Weight Converter', 'wgt_desc': 'Convert Weight Units', 'val': 'Value', 'from': 'From', 'to': 'To' }
        };

        window.addEventListener('DOMContentLoaded', () => {
            const lang = window.NextGear.lang || 'en';
            const dict = pageDict[lang] || pageDict['en'];
            document.querySelectorAll('[data-i18n]').forEach(el => el.innerText = dict[el.getAttribute('data-i18n')] || el.innerText);
            convert();
        });

        function convert() {
            const val = parseFloat(document.getElementById('inpVal').value) || 0;
            const from = document.getElementById('fromUnit').value;
            const to = document.getElementById('toUnit').value;

            const inKg = val * rates[from];
            const result = inKg / rates[to];

            document.getElementById('outVal').innerText = Number.isInteger(result) ? result : result.toLocaleString(undefined, { maximumFractionDigits: 6 });
        }
    </script>
</body>

</html>