<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NextGear | Currency Converter</title>
</head>

<body>
    <div id="app-header"></div>
    <main class="main">
        <div class="header-area">
            <div class="page-info">
                <h1 data-i18n="cur_title">Currency Converter</h1>
                <p data-i18n="cur_desc">Static Rates (USD Base).</p>
            </div>
        </div>
        <div class="tool-view active" style="max-width:600px; margin:0 auto">
            <div class="field">
                <label data-i18n="amount">Amount</label>
                <input type="number" id="inpVal" placeholder="100" oninput="convert()" value="1">
            </div>
            <div class="field">
                <label data-i18n="from">From</label>
                <select id="fromUnit" onchange="convert()">
                    <option value="USD">USD ($)</option>
                    <option value="EUR">EUR (€)</option>
                    <option value="SAR">SAR (ر.س)</option>
                    <option value="AED">AED (د.إ)</option>
                    <option value="EGP">EGP (ج.م)</option>
                </select>
            </div>
            <div class="field">
                <label data-i18n="to">To</label>
                <select id="toUnit" onchange="convert()">
                    <option value="USD">USD ($)</option>
                    <option value="EUR">EUR (€)</option>
                    <option value="SAR" selected>SAR (ر.س)</option>
                    <option value="AED">AED (د.إ)</option>
                    <option value="EGP">EGP (ج.م)</option>
                </select>
            </div>
            <div class="output-area" style="display:block">
                <div class="output-val" id="outVal">3.75</div>
            </div>
            <small style="display:block; text-align:center; opacity:0.7; margin-top:10px">Rates are
                approximate/static.</small>
        </div>
    </main>
    <div id="app-footer"></div>
    <script src="../../global.js"></script>
    <script>
        // Base USD
        const rates = {
            'USD': 1,
            'EUR': 0.92,
            'SAR': 3.75,
            'AED': 3.67,
            'EGP': 48.5
        };

        const pageDict = {
            'ar': { 'cur_title': 'محول العملات', 'cur_desc': 'أسعار تقريبية (قاعدة الدولار)', 'amount': 'المبلغ', 'from': 'من', 'to': 'إلى' },
            'en': { 'cur_title': 'Currency Converter', 'cur_desc': 'Approx Prices (USD Base)', 'amount': 'Amount', 'from': 'From', 'to': 'To' }
        };

        window.addEventListener('DOMContentLoaded', () => {
            const lang = window.NextGear.lang || 'en';
            const dict = pageDict[lang] || pageDict['en'];
            document.querySelectorAll('[data-i18n]').forEach(el => el.innerText = dict[el.getAttribute('data-i18n')] || el.innerText);
            convert();
        });

        function convert() {
            const val = parseFloat(document.getElementById('inpVal').value) || 0;
            const from = document.getElementById('fromUnit').value;
            const to = document.getElementById('toUnit').value;

            // Convert to USD
            const inUSD = val / rates[from];
            const result = inUSD * rates[to];

            document.getElementById('outVal').innerText = result.toLocaleString(undefined, { maximumFractionDigits: 2 }) + ' ' + to;
        }
    </script>
</body>

</html>