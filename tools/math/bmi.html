<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NextGear | BMI Calculator</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <!-- Shared Sidebar -->
    <nav class="sidebar">
        <a href="index.html" class="brand"><i>âš¡</i> <span>NextGear</span></a>
        <div class="nav-menu">
            <a href="index.html" class="nav-item"><i>ğŸ </i> <span data-i18n="home">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span></a>
            <a href="student.html" class="nav-item"><i>ğŸ“</i> <span data-i18n="student">Ù†ØµÙˆØµ ÙˆØ·Ù„Ø§Ø¨</span></a>
            <a href="math.html" class="nav-item active"><i>ğŸ”¢</i> <span data-i18n="math">Ø­Ø³Ø§Ø¨ ÙˆÙ…Ø§Ù„</span></a>
            <a href="conv.html" class="nav-item"><i>ğŸ”„</i> <span data-i18n="conv">ØªØ­ÙˆÙŠÙ„Ø§Øª</span></a>
            <a href="dev.html" class="nav-item"><i>ğŸ’»</i> <span data-i18n="dev">Ù…Ø·ÙˆØ±ÙŠÙ†</span></a>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main">
        <div class="header-area">
            <div class="page-info">
                <h1 data-i18n="bmi_title">Ø­Ø§Ø³Ø¨Ø© ÙƒØªÙ„Ø© Ø§Ù„Ø¬Ø³Ù… (BMI)</h1>
                <p data-i18n="bmi_desc">Ø§Ø­Ø³Ø¨ ÙˆØ²Ù†Ùƒ Ø§Ù„Ù…Ø«Ø§Ù„ÙŠ ÙˆØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø­Ø§Ù„ØªÙƒ Ø§Ù„ØµØ­ÙŠØ©.</p>
            </div>
            <!-- Language Switcher will be injected here by global.js -->
        </div>

        <!-- Tool Container -->
        <div class="tool-view active" style="display:block; max-width:600px; margin:0 auto;">
            <div class="field">
                <label data-i18n="weight">Ø§Ù„ÙˆØ²Ù† (ÙƒØ¬Ù…)</label>
                <input type="number" id="weight" placeholder="Ù…Ø«Ø§Ù„: 70">
            </div>
            <div class="field">
                <label data-i18n="height">Ø§Ù„Ø·ÙˆÙ„ (Ø³Ù…)</label>
                <input type="number" id="height" placeholder="Ù…Ø«Ø§Ù„: 170">
            </div>

            <button class="run-btn" onclick="calculateBMI()" data-i18n="calc">Ø§Ø­Ø³Ø¨</button>

            <div class="output-area" id="resultBox" style="display:none; margin-top:20px;">
                <label data-i18n="result">Ø§Ù„Ù†ØªÙŠØ¬Ø©:</label>
                <div class="output-val" id="bmiValue"></div>
            </div>
        </div>
    </main>

    <!-- Load Global Logic First -->
    <script src="global.js"></script>

    <!-- Tool Specific Logic -->
    <script>
        // Page Specific Dictionary
        const pageDict = {
            'ar': { 'bmi_title': 'Ø­Ø§Ø³Ø¨Ø© ÙƒØªÙ„Ø© Ø§Ù„Ø¬Ø³Ù…', 'bmi_desc': 'Ø§Ø¹Ø±Ù ÙˆØ²Ù†Ùƒ Ø§Ù„Ù…Ø«Ø§Ù„ÙŠ', 'weight': 'Ø§Ù„ÙˆØ²Ù† (ÙƒØ¬Ù…)', 'height': 'Ø§Ù„Ø·ÙˆÙ„ (Ø³Ù…)', 'underweight': 'Ù†Ø­Ø§ÙØ©', 'normal': 'ÙˆØ²Ù† Ø·Ø¨ÙŠØ¹ÙŠ', 'overweight': 'ÙˆØ²Ù† Ø²Ø§Ø¦Ø¯' },
            'en': { 'bmi_title': 'BMI Calculator', 'bmi_desc': 'Find your ideal weight', 'weight': 'Weight (kg)', 'height': 'Height (cm)', 'underweight': 'Underweight', 'normal': 'Normal', 'overweight': 'Overweight' }
        };

        // Hook into Global Load to apply page specifics
        window.addEventListener('DOMContentLoaded', () => {
            const lang = window.NextGear.lang; // From global.js
            const dict = pageDict[lang] || pageDict['en'];

            // Apply specific translations
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                if (dict[key]) el.innerText = dict[key];
            });
        });

        function calculateBMI() {
            const w = parseFloat(document.getElementById('weight').value);
            const h = parseFloat(document.getElementById('height').value) / 100; // Convert to meters

            if (!w || !h) return alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');

            const bmi = (w / (h * h)).toFixed(1);
            let status = '';

            const lang = window.NextGear.lang;
            const dict = pageDict[lang] || pageDict['en'];

            if (bmi < 18.5) status = dict['underweight'];
            else if (bmi < 25) status = dict['normal'];
            else status = dict['overweight'];

            const resultDiv = document.getElementById('resultBox');
            const valDiv = document.getElementById('bmiValue');

            resultDiv.style.display = 'block';
            valDiv.innerHTML = `<span style="font-size:2rem;color:${bmi < 25 && bmi > 18.5 ? 'green' : 'red'}">${bmi}</span> <br> ${status}`;
        }
    </script>
</body>

</html>