<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NextGear | Color Converter</title>
</head>

<body>
    <div id="app-header"></div>
    <main class="main">
        <div class="header-area">
            <div class="page-info">
                <h1 data-i18n="col_title">Color Converter</h1>
                <p data-i18n="col_desc">Convert HEX to RGB and Preview.</p>
            </div>
        </div>
        <div class="tool-view active" style="max-width:600px; margin:0 auto">
            <div class="field">
                <label data-i18n="hex">HEX Code</label>
                <input type="text" id="hex" placeholder="#e74c3c" value="#e74c3c" oninput="fromHex()">
            </div>

            <div id="preview" style="height:100px; border-radius:12px; margin:20px 0; border:2px solid #ddd"></div>

            <div class="field">
                <label>RGB</label>
                <input type="text" id="rgb" readonly>
            </div>
        </div>
    </main>
    <div id="app-footer"></div>
    <script src="../../global.js"></script>
    <script>
        const pageDict = {
            'ar': { 'col_title': 'ألوان HEX/RGB', 'col_desc': 'تحويل أكواد الألوان', 'hex': 'كود HEX' },
            'en': { 'col_title': 'Color Converter', 'col_desc': 'HEX to RGB Converter', 'hex': 'HEX Code' }
        };

        window.addEventListener('DOMContentLoaded', () => {
            const lang = window.NextGear.lang || 'en';
            const dict = pageDict[lang] || pageDict['en'];
            document.querySelectorAll('[data-i18n]').forEach(el => el.innerText = dict[el.getAttribute('data-i18n')] || el.innerText);
            fromHex();
        });

        function fromHex() {
            let hex = document.getElementById('hex').value;
            if (hex.startsWith('#')) hex = hex.substring(1);

            if (hex.length === 3) hex = hex.split('').map(c => c + c).join('');

            if (hex.length === 6) {
                const r = parseInt(hex.substring(0, 2), 16);
                const g = parseInt(hex.substring(2, 4), 16);
                const b = parseInt(hex.substring(4, 6), 16);

                document.getElementById('rgb').value = `rgb(${r}, ${g}, ${b})`;
                document.getElementById('preview').style.backgroundColor = '#' + hex;
            }
        }
    </script>
</body>

</html>